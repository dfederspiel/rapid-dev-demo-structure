{"version":3,"sources":["background.js","debounce-on.js","mega-menu.js","scrollify.js"],"names":["Background","$elements","$window","each","i","$","$element","$background","parent","unhide","setBannerPosition","isInEditMode","height","$content","outerHeight","position","offset","css","parents","length","init","img","setBackgroundImage","attr","src","debounceOn","action","funcArray","timeout","runFunctionArray","fire","isReady","setTimeout","document","ready","find","$navigation","children","$dropdowns","$megaMenuItems","key","value","this","$megaItem","eq","addClass","clone","$dropdownMenu","removeClass","wrap","after","lastIndex","ctx","idx","val","animateCss","data","deanimateCss","scrollify","interstitialSection","panels","section","ref","context","pagination","afterRender","activeClass","on","move"],"mappings":"aAAA,SAASA,WAAWC,EAAWC,GAC3BD,EAAUE,KAAK,SAAUC,GAD7B,IAASJ,EAAWC,EAAAA,MAChBA,EAAeI,EAAA,6BAAaC,GACpBA,EAAWD,EAAE,yBAAjBC,GACIC,EAAgBC,SAgBpB,SAASC,IAATH,EAASG,IAAT,aAAkB,WAalB,SAASC,IAAT,IAAAC,IAAA,CAII,IAAIC,EAASC,EAASC,cAClBC,EAAWR,EAAYQ,WAE3BT,EAASM,OAAOA,GAChBL,EAAYK,OAAOA,GACnBC,EAASG,OAAOD,GAChBF,EAASI,IAAI,OAAQ,IAGzB,SAASN,IACL,OAAOL,EAASY,QAAQ,iBAAiBC,OAAS,GAvCtDC,WAGI,GAAIT,IADR,OAAAF,KAcA,WAAA,IAAAY,EAASC,EAAAA,MAAAA,GACL,GAAID,EAAAA,OAAM,EAASd,CACfc,IAAIF,EAAJE,EAAJE,KAAoB,OAChBhB,EAAUc,IAAIE,mBAAd,OAAAC,EAAA,KACAjB,EAAAA,WAdJe,GAAAA,IACAZ,EAAAA,GAAAA,SAAAA,GACAR,IAVJkB;aCLR,IAAIK,WAAa,SAAUC,EAAQC,EAAWC,GAC1C,IAAIC,EAAmB,WADvBJ,EAAAA,GAAatB,KAAbsB,WACII,EAAAA,EAAAA,UAIHA,IACD,IAAIC,GAAJ,EACAD,EAAAA,QAAAA,GAAAA,EAAAA,WACIE,IACJA,GAAaL,EACLK,EAGAF,IAGAG,WAAW,WADXH,GAAAA,GACAG;aCfZ3B,EAAE4B,UAAUC,MAAM,WADlB,IACED,EADF5B,EAAA,iBAC8B8B,KAAA,oBAAA3B,OAAA,aACtB4B,EAAgB/B,EAAA,uBAApBgC,WAEAC,EAAIC,KAAAA,SAAmBC,EAAAC,GAGnB,IADJH,EACoBjC,EAAEqC,MADSD,KAAO,kBAK9BE,EAAYJ,EAAeK,GAAGJ,GAAKK,SAAS,kBAAkBC,QAAlEC,EAGKC,YAAY,iBADjBD,SACKC,WARTC,KAAA,+CALJC,MAAAP;aCDA,IAAIQ,UAAY,EAAhB,SAAIA,WAAJC,GAGI/C,EAAE,oBAAqB+C,GAAKjD,KAAK,SAAUkD,EAAKC,GADpDjD,EAASkD,MAAAA,SAAgBlD,EAAAqC,MAAAc,KAAA,aAAA,eAGpB,SAFDC,aAAAL,GAGH/C,EAAA,oBAAA+C,GAAAjD,KAAA,SAAAkD,EAAAC,GACDjD,EAASoD,MAAAA,YAAkBpD,EAAAqC,MAAAc,KAAA,cAAAR,YAAA,cAI1B3C,EAAA,iBAAAc,OAAA,GAGGd,EAAEqD,WADAC,oBAAF,iBACED,QAAU,gBACRC,OAAAA,SAAAA,EAAqBC,GACrBC,IAAAA,EAASD,EAAAxD,GAFDmB,KAAA,qBAIJlB,EAAA,yBAAyB2C,YAAA,UAGzB3C,EAAE,iBAAiB8B,KAAK,YAAe2B,EAAM,MAAOjB,SAAS,UAD7DxC,EAAE,0BAAyB2C,YAAY,WAKvCS,aAHEpD,EAAAuD,EAAFT,aAGAM,UAAAA,EAEAN,WACc9C,EAAEuD,EAAOxD,MACvBmD,MAAAA,SAAWQ,EAAAA,GAfP1D,EAAA,WAAAA,EAAA,iBAAAD,IAAAyC,SAAA,YAkBJxC,YAAE,WAlBE,IAAA2D,EAAA,4BAoBRC,EAAa,GAET5D,EAAA,iBAAkBF,KAAlB,SAAAC,GAGI8D,EAAc,GADhB,IAAA9D,IACE8D,EAAA,UAEIA,GAAAA,iBAAAA,EAAA,YAAA7D,EAAAqC,MAAAnB,KAAA,qBAAA,gBAEJyC,GAAAA,QAEJA,EAAAA,QAAAA,OAAcA,GAGd3D,EAAE,mBAAmB8D,GAAG,QAAS9D,EAAEqD,UAAUU","file":"all.min.js","sourcesContent":["function Background($elements, $window) {\n    $elements.each(function (i) {\n        var $element = $(this);\n        var $background = $('> .layout-image-background', $element);\n        var $content = $('> .layout-text-content', $element);\n        var $parent = $element.parent();\n\n        init();\n\n        function init() {\n            if (isInEditMode())\n                return unhide();\n\n            setBackgroundImage();\n            setBannerPosition();\n            $window.on('resize', setBannerPosition);\n            unhide();\n        }\n\n        function unhide() {\n            $element.css('visibility', 'visible');\n        }\n\n        function setBackgroundImage() {\n            var img = $('img', $background);\n            if (img.length > 0) {\n                var src = img.attr('src');\n                $background.css('background-image', 'url(' + src + ')');\n                img.remove();\n            }\n        }\n\n        function setBannerPosition() {\n            if (isInEditMode())\n                return;\n\n            var height = $content.outerHeight();\n            var position = $background.position();\n\n            $element.height(height);\n            $background.height(height);\n            $content.offset(position);\n            $content.css(\"left\", 0);\n        }\n\n        function isInEditMode() {\n            return $element.parents('.sfPageEditor').length > 0;\n        }\n    });\n}","var debounceOn = function (action, funcArray, timeout) {\n    var runFunctionArray = function () {\n        $(funcArray).each(function () {\n            funcArray[$(this)];\n        })\n    }\n    var fire = 0;\n    runFunctionArray();\n    var isReady = true;\n    $(window).on(action, function () {\n        if (isReady) {\n            isReady = false;\n            fire++;\n            //console.log(fire);\n\n            runFunctionArray();\n            setTimeout(function () {\n                isReady = true;\n            }, timeout);\n        }\n    });\n}\n","//USED WITH BOOTSTRAP 3 NAVIGATION\n$(document).ready(function () {\n    var $navigation = $(\".js-mega-menu\");\n    var $dropdowns = $navigation.find(\".dropdown-toggle\").parent(\".dropdown\");\n    var $megaMenuItems = $(\".js-mega-menu-items\").children();\n\n    $dropdowns.each(function (key, value) {\n        var $dropdown = $(this);\n        var $dropdownMenu = $dropdown.find(\".dropdown-menu\");\n\n        //cloning to keep copy for CMS editor\n        var $megaItem = $megaMenuItems.eq(key).addClass(\"mega-menu-item\").clone();\n\n        $dropdownMenu\n            .removeClass(\"dropdown-menu\")\n            .addClass(\"sub-nav\")\n            .wrap(\"<div class='mega-menu dropdown-menu'></div>\")\n            .after($megaItem);\n    })\n})","var lastIndex = 0;\n\nfunction animateCss(ctx) {\n    $('*[data-animation]', ctx).each(function (idx, val) {\n        $(this).addClass($(this).data('animation') + ' animated');\n    })\n}\nfunction deanimateCss(ctx) {\n    $('*[data-animation]', ctx).each(function (idx, val) {\n        $(this).removeClass($(this).data('animation')).removeClass('animated');\n    })\n}\n\nif ($('.scroll-panel').length > 0) {\n    $.scrollify({\n        interstitialSection: \"header, footer\",\n        section: \".scroll-panel\",\n        before: function (i, panels) {\n            var ref = panels[i].attr(\"data-section-name\");\n            \n            $(\".scroll-pager .active\").removeClass(\"active\");\n            $(\".scroll-pager\").find(\"a[href=\\\"#\" + ref + \"\\\"]\").addClass(\"active\");\n            $('.scroll-panel .content').removeClass('visible');\n\n            var lastContext = $(panels[lastIndex]);\n            deanimateCss(lastContext);\n\n            lastIndex = i;\n            var context = $(panels[i]);\n            animateCss(context)\n        },\n        after: function (i, panels) {\n            $('.content', $('.scroll-panel')[i]).addClass('visible');\n        },\n        afterRender: function () {\n            var pagination = \"<ul class=\\\"scroll-pager\\\">\";\n            var activeClass = \"\";\n\n            $(\".scroll-panel\").each(function (i) {\n                activeClass = \"\";\n                if (i === 0) {\n                    activeClass = \"active\";\n                }\n                pagination += \"<li><a class=\\\"\" + activeClass + \"\\\" href=\\\"#\" + $(this).attr(\"data-section-name\") + \"\\\"></a></li>\";\n            });\n            pagination += \"</ul>\";\n\n            $(\"body\").append(pagination);\n            $(\".scroll-pager a\").on(\"click\", $.scrollify.move);\n        }\n    });\n}"]}